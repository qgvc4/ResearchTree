(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){},149:function(e,t,a){e.exports=a(287)},158:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),o=a(0),i=a.n(o),c=a(17),s=a(299),l=a(300),u=a(301),p=a(298),d=a(8),m=a(9),f=a(12),h=a(10),E=a(13),b=a(297),y=a(302),O=a(290),j=a(295),g=a(15),v=a(40),T=(a(158),"https://researchtreeapis.azurewebsites.net/api"),P=function(){return function(e){e({type:"CLEAR_ACCOUNT_ERROR",payload:null})}},S=b.a.Content,R=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.clearError(),a.props.login(t))})},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){if(null==this.props.error&&null!=this.props.user.token)return i.a.createElement(p.a,{to:"/Feed"});var e,t=this.props.form.getFieldDecorator;return null!=this.props.error&&(e=i.a.createElement(y.a,{message:this.props.error,type:"error"})),i.a.createElement(b.a,{className:"layout",style:{background:"#fff"}},i.a.createElement(S,{style:{padding:"0 25%"}},i.a.createElement("div",{className:"login-container",style:{padding:24,background:"#fff",textAlign:"center"}},i.a.createElement("h1",{style:{color:"#c1e791"}},"ResearchTree"),i.a.createElement(O.a,{onSubmit:this.handleSubmit,className:"login-form"},i.a.createElement(O.a.Item,null,t("Email",{rules:[{required:!0,message:"Please input your email!"}]})(i.a.createElement(j.a,{prefix:i.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),i.a.createElement(O.a.Item,null,t("Password",{rules:[{required:!0,message:"Please input your Password!"}]})(i.a.createElement(j.a,{prefix:i.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),i.a.createElement(O.a.Item,null,i.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),i.a.createElement("br",null),"Or ",i.a.createElement("a",{href:"/Signup"},"Sign Up now!"))),e)))}}]),t}(o.Component),_=O.a.create({name:"normal_login"})(R),k=Object(c.b)(function(e){return{user:e.user.user,error:e.user.error}},{login:function(e){return function(t){fetch("".concat(T,"/Account/login"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return t({type:"LOG_IN",payload:e})}).catch(function(e){return t({type:"ACCOUNT_ERROR",payload:"Email or Password is not matched"})})}},clearError:P})(_),C=a(293),w=a(139),L=a.n(w),D=["Computer Engineering","Computer Science","Electrical Engineering","Information Technology"],I=["Undergraduate","Graduate","Professor"],J=C.a.Option,M=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,image:null},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(t.Role=t&&2!==t.Standing?0:1,delete t.confirm,t.image?new Promise(function(e,a){var n=new FileReader;n.addEventListener("load",function(){var t=n.result.split(",")[1];e(t)}),n.readAsDataURL(t.image)}).then(function(e){t.image=e,a.props.clearError(),a.props.signup(t)}):(a.props.clearError(),a.props.signup(t)))})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("Password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(t)?(t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()):n("Password must be more than 6 characters, with at least one capital, numeric or special character")},a.validateLocationZipCode=function(e,t,a){/^(\d{5})?$/.test(t)?a():a("Not a valid ZipCode, must be 5 digits")},a.validateMajorsMaxLimit=function(e,t,a){t.length>3?a("Max 3 Majors"):a()},a.normFile=function(e){return Array.isArray(e)&&e.length>0?e[0]:null},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){null==this.props.error&&null!=this.props.user.token&&this.props.history.push("/Feed");var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return i.a.createElement("div",null,i.a.createElement(O.a,{onSubmit:this.handleSubmit},i.a.createElement(O.a.Item,Object.assign({},t,{label:"Email"}),e("Email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(i.a.createElement(j.a,null))),i.a.createElement(O.a.Item,Object.assign({},t,{label:"Password"}),e("Password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(i.a.createElement(j.a,{type:"password"}))),i.a.createElement(O.a.Item,Object.assign({},t,{label:"Confirm Password"}),e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(i.a.createElement(j.a,{type:"password",onBlur:this.handleConfirmBlur}))),i.a.createElement(O.a.Item,Object.assign({},t,{label:"FirstName"}),e("FirstName",{rules:[{required:!0,message:"Please input your firstname!",whitespace:!0}]})(i.a.createElement(j.a,null))),i.a.createElement(O.a.Item,Object.assign({},t,{label:"LastName"}),e("LastName",{rules:[{required:!0,message:"Please input your lastname!",whitespace:!0}]})(i.a.createElement(j.a,null))),i.a.createElement(O.a.Item,Object.assign({},t,{label:"Standing",hasFeedback:!0}),e("Standing",{rules:[{required:!0,message:"Please select your standing!"}]})(function(){for(var e=[],t=0;t<I.length;t++)e.push(i.a.createElement(J,{key:t,value:t},I[t]));return i.a.createElement(C.a,{placeholder:"Please select your standing"},e)}())),i.a.createElement(O.a.Item,Object.assign({},t,{label:"Majors"}),e("Majors",{rules:[{required:!0,message:"Please select your majors!",type:"array"},{validator:this.validateMajorsMaxLimit}]})(function(){for(var e=[],t=0;t<D.length;t++)e.push(i.a.createElement(J,{key:t,value:t},D[t]));return i.a.createElement(C.a,{mode:"multiple",placeholder:"Please select majors"},e)}())),i.a.createElement(O.a.Item,Object.assign({},t,{label:"Location"}),e("Location",{rules:[{required:!0,message:"Please input your location!",whitespace:!0},{validator:this.validateLocationZipCode}]})(i.a.createElement(j.a,{placeholder:"ZipCode"}))),i.a.createElement(O.a.Item,Object.assign({},t,{label:"Profile"}),e("image",{valuePropName:"fileList",getValueFromEvent:this.normFile})(i.a.createElement(L.a,{withIcon:!0,withLabel:!0,label:"JPG|Size<1MB",buttonText:"Upload Profile",onChange:this.onDrop,imgExtension:[".jpg"],maxFileSize:1048576,withPreview:!0}))),i.a.createElement(O.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},i.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Sign Up"))))}}]),t}(o.Component);var x=O.a.create({name:"register"})(M),A=Object(c.b)(function(e){return{user:e.user.user,error:e.user.error}},{signup:function(e){return function(t){fetch("".concat(T,"/Account"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return t({type:"SIGN_UP",payload:e})}).catch(function(e){return t({type:"ACCOUNT_ERROR",payload:"Sign_up error"})})}},clearError:P})(x),N=a(288),B=a(292),F=b.a.Sider,V=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.pageNum;return i.a.createElement(b.a,null,i.a.createElement(F,{style:{overflow:"auto",height:"100%",position:"fixed",left:0,background:"#74997a"}},i.a.createElement("div",{className:"logo"}),i.a.createElement(B.a,{theme:"",mode:"inline",defaultSelectedKeys:e,style:{background:"#74997a",color:"white"},onClick:this.handleClick},i.a.createElement(B.a.Item,{key:"1"},i.a.createElement(N.a,{to:"/Feed"},i.a.createElement(g.a,{type:"user"}),i.a.createElement("span",{className:"nav-text"},"Feed"))),i.a.createElement(B.a.Item,{key:"2"},i.a.createElement(N.a,{to:"/People"},i.a.createElement(g.a,{type:"team"}),i.a.createElement("span",{className:"nav-text"},"People"))),i.a.createElement(B.a.Item,{key:"3"},i.a.createElement(N.a,{to:"/Job"},i.a.createElement(g.a,{type:"shop"}),i.a.createElement("span",{className:"nav-text"},"Job"))),i.a.createElement(B.a.Item,{key:"4"},i.a.createElement(N.a,{to:"/Profile"},i.a.createElement(g.a,{type:"bar-chart"}),i.a.createElement("span",{className:"nav-text"},"Profile"))))))}}]),t}(o.Component),z=function(e){return function(t){fetch("".concat(T,"/Feeds"),{method:"GET",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){return t({type:"FETCH_POSTS",payload:e})}).catch(function(e){return t({type:"POST_ERROR",payload:"Error in fetching feeds"})})}},q=function(){return function(e){e({type:"POST_START",payload:!0})}},U=function(){return function(e){e({type:"POST_COMPLETE",payload:!1})}},H=function(){return function(e){e({type:"EDIT_POST_START",payload:!0})}},Z=function(){return function(e){e({type:"EDIT_POST_COMPLETE",payload:!1})}},W=function(){return function(e){e({type:"DELETE_POST_START",payload:!0})}},G=function(){return function(e){e({type:"DELETE_POST_COMPLETE",payload:!1})}},Y=a(291),$=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Y.a,{title:this.props.title,extra:X(this.props.date)},this.props.description))}}]),t}(o.Component);function X(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),c=t.getSeconds();return"".concat(a,"/").concat(n,"/").concat(r," ").concat(o,":").concat(i,":").concat(c)}var K=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchPosts(this.props.token)}},{key:"render",value:function(){this.props.feeds.sort(function(e,t){return new Date(t.modifyTime)-new Date(e.modifyTime)});var e=this.props.feeds.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement($,{title:e.title,description:e.description,date:e.modifyTime}))});return i.a.createElement("div",null,i.a.createElement("h1",null,"Feeds"),e)}}]),t}(o.Component),Q=Object(c.b)(function(e){return{token:e.user.user.token,feeds:e.feed.feeds,error:e.feed.error}},{fetchPosts:z})(K),ee=(a(82),j.a.TextArea),te=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),t.PeopleId="".concat(a.props.user.id),a.props.newPost(a.props.user.token,t))})},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement(O.a,{onSubmit:this.handleSubmit,className:"post-feed"},i.a.createElement(O.a.Item,null,e("Title",{rules:[{required:!0,message:"Please input a title!"}]})(i.a.createElement(j.a,{prefix:i.a.createElement(g.a,{type:"team",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Title"}))),i.a.createElement(O.a.Item,null,e("Description",{rules:[{required:!0,message:"Please input your Description!"}]})(i.a.createElement(ee,{placeholder:"Description",autosize:{minRows:2,maxRows:6}}))),i.a.createElement(O.a.Item,null,i.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Post")))}}]),t}(o.Component),ae=O.a.create({name:"post_form"})(te),ne=Object(c.b)(function(e){return{user:e.user.user,feeds:e.feed.feeds,isLoading:e.feed.isLoading,error:e.feed.error}},{fetchPosts:z,newPost:function(e,t){return function(a){q(),fetch("".concat(T,"/Feeds"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return a({type:"NEW_POSTS",payload:e})}).then(U).catch(function(e){return a({type:"POST_ERROR",payload:"Error in posting new feed"})})}}})(ae),re=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ne,null),i.a.createElement(Q,null))}}]),t}(o.Component),oe=b.a.Content,ie=b.a.Sider,ce=b.a.Header,se=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.user.token?i.a.createElement("div",null,i.a.createElement(b.a,null,i.a.createElement(ce,{style:{background:"#c1e791",position:"fixed",zIndex:1,width:"100%"}},i.a.createElement("h1",{style:{color:"white"}},"ResearchTree")),i.a.createElement(b.a,null,i.a.createElement(ie,{style:{marginTop:"5%"}},i.a.createElement(V,{pageNum:["1"]})),i.a.createElement(oe,{style:{marginTop:"6%"}},i.a.createElement(re,null))))):i.a.createElement(p.a,{to:"/Login"}))}}]),t}(o.Component);var le=Object(c.b)(function(e){return{user:e.user.user}},{})(se),ue=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Y.a,{title:this.props.title,extra:this.props.date},this.props.description))}}]),t}(o.Component),pe=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchUsers(this.props.token)}},{key:"render",value:function(){var e=this.props.users.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement(ue,{title:e.firstName,description:e.lastname,date:e.standing}))});return i.a.createElement("div",null,i.a.createElement("h1",null,"People"),e)}}]),t}(o.Component),de=Object(c.b)(function(e){return{token:e.user.user.token,users:e.people.users,error:e.people.error}},{fetchUsers:function(e){return function(t){fetch("".concat(T,"/Users"),{method:"GET",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){return t({type:"FETCH_USERS",payload:e})}).catch(function(e){return t({type:"PEOPLE_ERROR",payload:"Error in fetching users"})})}}})(pe),me=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(de,null))}}]),t}(o.Component),fe=b.a.Content,he=b.a.Sider,Ee=b.a.Header,be=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.user.token?i.a.createElement("div",null,i.a.createElement(b.a,null,i.a.createElement(Ee,{style:{background:"#c1e791",position:"fixed",zIndex:1,width:"100%"}},i.a.createElement("h1",{style:{color:"white"}},"ResearchTree")),i.a.createElement(b.a,null,i.a.createElement(he,{style:{marginTop:"5%"}},i.a.createElement(V,{pageNum:["2"]})),i.a.createElement(fe,{style:{marginTop:"6%"}},i.a.createElement(me,null))))):i.a.createElement(p.a,{to:"/Login"}))}}]),t}(o.Component);var ye=Object(c.b)(function(e){return{user:e.user.user}},{})(be),Oe=a(29),je=a(294),ge=j.a.TextArea,ve=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(t.PeopleId="".concat(a.props.user.id),a.props.editPost(a.props.user.token,a.props.postId,t),a.props.closeModal())})},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchPosts(this.props.user.token)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.feeds.filter(function(t){return t.id===e.props.postId}),n=a[0].description,r=a[0].title;return console.log(a),i.a.createElement(O.a,{onSubmit:this.handleSubmit,className:"post-feed"},i.a.createElement(O.a.Item,{label:"Title"},t("Title",{rules:[{required:!0,message:"Please the title of your post!"}],initialValue:r})(i.a.createElement(j.a,{placeholder:"Title"}))),i.a.createElement(O.a.Item,{label:"Description"},t("Description",{rules:[{required:!0,message:"Please input your Description!"}],initialValue:n})(i.a.createElement(ge,{placeholder:"",autosize:{minRows:2,maxRows:6}}))),i.a.createElement(O.a.Item,null,i.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Submit")))}}]),t}(o.Component),Te=O.a.create({name:"editpost_form"})(ve),Pe=Object(c.b)(function(e){return{user:e.user.user,error:e.feed.error,feeds:e.feed.feeds}},{editPost:function(e,t,a){return function(n){H(),fetch("".concat(T,"/Feeds/").concat(t),{method:"PUT",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return n({type:"EDIT_POST",payload:e})}).then(Z).catch(function(e){return n({type:"EDIT_POST_ERROR",payload:"Error in editing feed"})})}},fetchPosts:z})(Te),Se=je.a.confirm,Re=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(h.a)(t).call(this))).editPostOnClick=function(t){e.setState({editPostModalVisible:!0})},e.handlePostCancel=function(t){e.setState({editPostModalVisible:!1})},e.showDeleteConfirm=function(){var t=e.props.token,a=e.props.postId,n=e.props.modifyState,r=e.props.deletePost;Se({title:"Are you sure delete this post?",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){r(t,a),n(),console.log("Ok")},onCancel:function(){console.log("Cancel")}})},e.state={editPostModalVisible:!1},e.closeModal=e.closeModal.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e={float:"right",margin:"0 5px"};return i.a.createElement("div",null,i.a.createElement(Y.a,{title:this.props.title,extra:_e(this.props.date),style:{marginBottom:"5px",marginRight:"10px"}},this.props.description,i.a.createElement(v.a,{style:e,onClick:this.showDeleteConfirm,icon:"delete"}),i.a.createElement(v.a,{style:e,onClick:this.editPostOnClick,icon:"form"}),i.a.createElement(je.a,{title:"Edit Post",visible:this.state.editPostModalVisible,onCancel:this.handlePostCancel,footer:[null]},i.a.createElement(Pe,{postId:this.props.postId,closeModal:this.closeModal}))))}},{key:"closeModal",value:function(){this.setState({editPostModalVisible:!1}),this.props.modifyState()}}]),t}(o.Component);function _e(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),c=t.getSeconds();return"".concat(a,"/").concat(n,"/").concat(r," ").concat(o,":").concat(i,":").concat(c)}var ke=Object(c.b)(function(e){return{}},{deletePost:function(e,t){return function(a){W(),console.log("".concat(T,"/Feeds/").concat(t)),fetch("".concat(T,"/Feeds/").concat(t),{method:"DELETE",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){return a({type:"DELETE_POST",payload:e})}).then(G).catch(function(e){return a({type:"DELETE_POST_ERROR",payload:"Error in deleting feed"})})}}})(Re),Ce=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(h.a)(t).call(this))).state={modifiedState:!1},e.modifyState=e.modifyState.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchPosts(this.props.token)}},{key:"render",value:function(){var e=this;if(void 0!==this.props.feeds){this.props.feeds.sort(function(e,t){return new Date(t.modifyTime)-new Date(e.modifyTime)});var t=this.props.feeds.filter(function(t){return t.peopleId===e.props.id}).map(function(t){return i.a.createElement("div",{key:t.id},i.a.createElement(ke,{token:e.props.token,postId:t.id,title:t.title,description:t.description,date:t.modifyTime,modifyState:e.modifyState}))});return i.a.createElement("div",null,t)}return i.a.createElement("div",null)}},{key:"modifyState",value:function(){this.setState({modifiedState:!this.state.modifiedState}),this.props.fetchPosts(this.props.token)}}]),t}(o.Component),we=Object(c.b)(function(e){return{token:e.user.user.token,id:e.user.user.id,feeds:e.feed.feeds,error:e.feed.error}},{fetchPosts:z})(Ce),Le=function(e){return function(t){fetch("".concat(T,"/Jobs"),{method:"GET",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){return t({type:"FETCH_JOBS",payload:e})}).catch(function(e){return t({type:"JOB_ERROR",payload:"Error in fetching jobs"})})}},De=function(){return function(e){e({type:"JOB_START",payload:!0})}},Ie=function(){return function(e){e({type:"JOB_COMPLETE",payload:!1})}},Je=function(){return function(e){e({type:"EDIT_JOB_START",payload:!0})}},Me=function(){return function(e){e({type:"EDIT_JOB_COMPLETE",payload:!1})}},xe=function(){return function(e){e({type:"DELETE_JOB_START",payload:!0})}},Ae=j.a.TextArea,Ne=C.a.Option,Be=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(t.PeopleId="".concat(a.props.user.id),a.props.editJob(a.props.user.token,a.props.jobId,t),a.props.closeModal())})},a.validateMajorsMaxLimit=function(e,t,a){t.length>3?a("Max 3 Majors"):a()},a.validateLocationZipCode=function(e,t,a){/^(\d{5})?$/.test(t)?a():a("Not a valid ZipCode, must be 5 digits")},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchJobs(this.props.user.token)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.jobs.filter(function(t){return t.id===e.props.jobId}),n=a[0].description,r=a[0].title,o=a[0].majors,c=a[0].location;return i.a.createElement(O.a,{onSubmit:this.handleSubmit,className:"post-feed"},i.a.createElement(O.a.Item,{label:"Title"},t("Title",{rules:[{required:!0,message:"Please add a title!"}],initialValue:r})(i.a.createElement(j.a,{prefix:i.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Title"}))),i.a.createElement(O.a.Item,{label:"Description"},t("Description",{rules:[{required:!0,message:"Please input your Description!"}],initialValue:n})(i.a.createElement(Ae,{placeholder:"Autosize height with minimum and maximum number of lines",autosize:{minRows:2,maxRows:6}}))),i.a.createElement(O.a.Item,{label:"Majors"},t("Majors",{rules:[{required:!0,message:"Please select your majors!",type:"array"},{validator:this.validateMajorsMaxLimit}],initialValue:o||[]})(function(){for(var e=[],t=0;t<D.length;t++)e.push(i.a.createElement(Ne,{key:t,value:t},D[t]));return i.a.createElement(C.a,{mode:"multiple",placeholder:"Please select majors"},e)}())),i.a.createElement(O.a.Item,{label:"Location"},t("Location",{rules:[{required:!0,message:"Please input your location!",whitespace:!0},{validator:this.validateLocationZipCode}],initialValue:c})(i.a.createElement(j.a,{placeholder:"ZipCode"}))),i.a.createElement(O.a.Item,null,i.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Submit")))}}]),t}(o.Component);var Fe=O.a.create({name:"editjob_form"})(Be),Ve=Object(c.b)(function(e){return{user:e.user.user,error:e.job.error,jobs:e.job.jobs}},{editJob:function(e,t,a){return function(n){Je(),fetch("".concat(T,"/Jobs/").concat(t),{method:"PUT",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return n({type:"EDIT_JOB",payload:e})}).then(Me).catch(function(e){return n({type:"EDIT_JOB_ERROR",payload:"Error in editing job"})})}},fetchJobs:Le})(Fe),ze=je.a.confirm,qe=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(h.a)(t).call(this))).editJobOnClick=function(t){e.setState({editJobModalVisible:!0})},e.handleJobCancel=function(t){e.setState({editJobModalVisible:!1})},e.showDeleteConfirm=function(){var t=e.props.token,a=e.props.jobId,n=e.props.modifyState,r=e.props.deleteJob;ze({title:"Are you sure delete this job?",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){r(t,a),n(),console.log(t),console.log("Ok")},onCancel:function(){console.log("Cancel")}})},e.state={editJobModalVisible:!1},e.closeModal=e.closeModal.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e={float:"right",margin:"0 5px"};return i.a.createElement("div",null,i.a.createElement(Y.a,{title:this.props.title,extra:Ue(this.props.date),style:{marginBottom:"5px",marginRight:"10px"}},this.props.description,i.a.createElement(v.a,{style:e,onClick:this.showDeleteConfirm,icon:"delete"}),i.a.createElement(v.a,{style:e,onClick:this.editJobOnClick,icon:"form"}),i.a.createElement(je.a,{title:"Edit Job",visible:this.state.editJobModalVisible,onCancel:this.handleJobCancel,footer:[null]},i.a.createElement(Ve,{jobId:this.props.jobId,closeModal:this.closeModal}))))}},{key:"closeModal",value:function(){this.props.modifyState(),this.setState({editJobModalVisible:!1})}}]),t}(o.Component);function Ue(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),c=t.getSeconds();return"".concat(a,"/").concat(n,"/").concat(r," ").concat(o,":").concat(i,":").concat(c)}var He=Object(c.b)(function(e){return{}},{deleteJob:function(e,t){return function(a){xe(),fetch("".concat(T,"/Jobs/").concat(t),{method:"DELETE",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){return a({type:"DELETE_JOB",payload:e})}).then(Me).catch(function(e){return a({type:"DELETE_JOB_ERROR",payload:"Error in deleting job"})})}}})(qe),Ze=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(h.a)(t).call(this))).state={modifiedState:!1},e.modifyState=e.modifyState.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchJobs(this.props.token)}},{key:"render",value:function(){var e=this;if(void 0!==this.props.jobs){this.props.jobs.sort(function(e,t){return new Date(e.modifyTime)-new Date(t.modifyTime)});var t=this.props.jobs.filter(function(t){return t.peopleId===e.props.id}).map(function(t){return i.a.createElement("div",{key:t.id},i.a.createElement(He,{token:e.props.token,jobId:t.id,title:t.title,description:t.description,date:t.modifyTime,modifyState:e.modifyState}))});return i.a.createElement("div",null,t)}return i.a.createElement("div",null)}},{key:"modifyState",value:function(){this.setState({modifiedState:!this.state.modifiedState}),this.props.fetchJobs(this.props.token)}}]),t}(o.Component),We=Object(c.b)(function(e){return{token:e.user.user.token,id:e.user.user.id,jobs:e.job.jobs,error:e.job.error}},{fetchJobs:Le})(Ze),Ge=a(296),Ye=a(289),$e=(a(132),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"userInfoContainer"},null==this.props.user.image?i.a.createElement(Ye.a,{size:100,icon:"user"}):i.a.createElement(Ye.a,{src:this.props.user.image}),i.a.createElement("h3",null,this.props.user.firstname+" "+this.props.user.lastname),null!=(e=this.props.user.standing)&&void 0!==e?i.a.createElement("h4",null,I[e]):void 0,function(e){var t=[];return null!=e&&void 0!==e?(e.forEach(function(e,a){t.push(i.a.createElement("h4",{key:a},D[e]))}),t):void 0}(this.props.user.majors),i.a.createElement("h4",null,this.props.user.email));var e}}]),t}(o.Component));var Xe=Ge.a.Button,Ke=Ge.a.Group,Qe=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(h.a)(t).call(this))).radioOnChange=function(t){e.state.jobsView?e.setState({jobsView:!1}):e.setState({jobsView:!0})},e.state={jobsView:!1},e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.renderProfile())}},{key:"renderProfile",value:function(){return i.a.createElement("div",{className:"profileContainer"},i.a.createElement($e,{user:this.props.user}),i.a.createElement("div",{style:{float:"left",width:"80%"}},i.a.createElement("div",{className:"post-jobs-button-group"},i.a.createElement(Ke,{className:"btn-group btn-group-toggle",defaultValue:"posts",onChange:this.radioOnChange,style:{marginBottom:"30px"}},i.a.createElement(Xe,{className:"btn btn-secondary",value:"posts"},"Posts"),i.a.createElement(Xe,{className:"btn btn-secondary",value:"jobs"},"Jobs"))),this.state.jobsView?this.displayJobs():this.displayPosts()))}},{key:"displayJobs",value:function(){return i.a.createElement("div",null,i.a.createElement(We,null))}},{key:"displayPosts",value:function(){return i.a.createElement("div",null,i.a.createElement(we,null))}}]),t}(o.Component),et=Object(c.b)(function(e){return{user:e.user.user}},{})(Qe),tt=b.a.Content,at=b.a.Sider,nt=b.a.Header,rt=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.user.token?i.a.createElement("div",null,i.a.createElement(b.a,null,i.a.createElement(nt,{style:{background:"#c1e791",position:"fixed",zIndex:1,width:"100%"}},i.a.createElement("h1",{style:{color:"white"}},"ResearchTree")),i.a.createElement(b.a,null,i.a.createElement(at,{style:{marginTop:"5%"}},i.a.createElement(V,{pageNum:["4"]})),i.a.createElement(tt,{style:{marginTop:"6%"}},i.a.createElement(et,null))))):i.a.createElement(p.a,{to:"/Login"}))}}]),t}(o.Component);var ot=Object(c.b)(function(e){return{user:e.user.user}},{})(rt),it=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Y.a,{title:this.props.title,extra:ct(this.props.date),style:{margin:"10px"}},this.props.description,this.props.major))}}]),t}(o.Component);function ct(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),c=t.getSeconds();return"".concat(a,"/").concat(n,"/").concat(r," ").concat(o,":").concat(i,":").concat(c)}var st=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchJobs(this.props.token)}},{key:"render",value:function(){if(void 0!==this.props.jobs){this.props.jobs.sort(function(e,t){return new Date(e.modifyTime)-new Date(t.modifyTime)});var e=this.props.jobs.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement(it,{title:e.title,description:e.description,date:e.modifyTime,major:e.major}))});return i.a.createElement("div",null,e)}return i.a.createElement("div",null)}}]),t}(o.Component),lt=Object(c.b)(function(e){return{token:e.user.user.token,jobs:e.job.jobs,error:e.job.error}},{fetchJobs:Le})(st),ut=j.a.TextArea,pt=C.a.Option,dt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),t.PeopleId="".concat(a.props.user.id),a.props.newJob(a.props.user.token,t))})},a.validateMajorsMaxLimit=function(e,t,a){t.length>3?a("Max 3 Majors"):a()},a.validateLocationZipCode=function(e,t,a){/^(\d{5})?$/.test(t)?a():a("Not a valid ZipCode, must be 5 digits")},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement(O.a,{onSubmit:this.handleSubmit,className:"post-feed"},i.a.createElement(O.a.Item,{style:{margin:"10px"}},e("Title",{rules:[{required:!0,message:"Please input a title!"}]})(i.a.createElement(j.a,{prefix:i.a.createElement(g.a,{type:"team",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Title"}))),i.a.createElement(O.a.Item,{style:{margin:"10px"}},e("Description",{rules:[{required:!0,message:"Please input your Description!"}]})(i.a.createElement(ut,{placeholder:"Description",autosize:{minRows:2,maxRows:6}}))),i.a.createElement(O.a.Item,{label:"Majors",style:{margin:"10px"}},e("Majors",{rules:[{required:!0,message:"Please select your majors!",type:"array"},{validator:this.validateMajorsMaxLimit}]})(function(){for(var e=[],t=0;t<D.length;t++)e.push(i.a.createElement(pt,{key:t,value:t},D[t]));return i.a.createElement(C.a,{mode:"multiple",placeholder:"Please select majors"},e)}())),i.a.createElement(O.a.Item,{label:"Location",style:{margin:"10px"}},e("Location",{rules:[{required:!0,message:"Please input your location!",whitespace:!0},{validator:this.validateLocationZipCode}]})(i.a.createElement(j.a,{placeholder:"ZipCode"}))),i.a.createElement(O.a.Item,{style:{margin:"10px"}},i.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Create")))}}]),t}(o.Component);var mt=O.a.create({name:"job_form"})(dt),ft=Object(c.b)(function(e){return{user:e.user.user,jobs:e.job.jobs,isLoading:e.feed.isLoading,error:e.feed.error}},{fetchJobs:Le,newJob:function(e,t){return function(a){De(),fetch("".concat(T,"/Jobs"),{method:"POST",headers:{Accept:"application/json","content-type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return a({type:"NEW_JOBS",payload:e})}).then(Ie).catch(function(e){return a({type:"JOB_ERROR",payload:"Error in posting new job"})})}}})(mt),ht=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ft,null),i.a.createElement("hr",{style:{margin:"10px"}}),i.a.createElement(lt,null))}}]),t}(o.Component),Et=b.a.Content,bt=b.a.Sider,yt=b.a.Header,Ot=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.user.token?i.a.createElement("div",null,i.a.createElement(b.a,null,i.a.createElement(yt,{style:{background:"#c1e791",position:"fixed",zIndex:1,width:"100%"}},i.a.createElement("h1",{style:{color:"white"}},"ResearchTree")),i.a.createElement(b.a,null,i.a.createElement(bt,{style:{marginTop:"5%"}},i.a.createElement(V,{pageNum:["3"]})),i.a.createElement(Et,{style:{marginTop:"6%"}},i.a.createElement(ht,null))))):i.a.createElement(p.a,{to:"/Login"}))}}]),t}(o.Component);var jt=Object(c.b)(function(e){return{user:e.user.user}},{})(Ot),gt=a(43),vt=a(146),Tt=a(16),Pt={user:{},error:null},St={feeds:[],newPost:{},editPost:{},deletePost:{},isLoading:!1,error:null},Rt={users:[],error:null},_t={jobs:[],newJob:{},editJob:{},deleteJob:{},isLoading:!1,error:null},kt=Object(gt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":case"SIGN_UP":return Object(Tt.a)({},e,{user:t.payload});case"CLEAR_ACCOUNT_ERROR":case"ACCOUNT_ERROR":return Object(Tt.a)({},e,{error:t.payload});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return Object(Tt.a)({},e,{feeds:t.payload});case"NEW_POSTS":return Object(Tt.a)({},e,{newPost:t.payload});case"POST_ERROR":case"CLEAR_POST_ERROR":return Object(Tt.a)({},e,{error:t.payload});case"POST_START":case"POST_COMPLETE":return Object(Tt.a)({},e,{isLoading:t.payload});case"EDIT_POST":return Object(Tt.a)({},e,{editPost:t.payload});case"EDIT_POST_START":return Object(Tt.a)({},e,{isLoading:t.payload});case"EDIT_POST_ERROR":case"CLEAR_EDIT_POST_ERROR":return Object(Tt.a)({},e,{error:t.payload});case"EDIT_POST_COMPLETE":return Object(Tt.a)({},e,{isLoading:t.payload});case"DELETE_POST":return Object(Tt.a)({},e,{deletePost:t.payload});case"DELETE_POST_START":return Object(Tt.a)({},e,{isLoading:t.payload});case"DELETE_POST_ERROR":case"CLEAR_DELETE_POST_ERROR":return Object(Tt.a)({},e,{error:t.payload});case"DELETE_POST_COMPLETE":return Object(Tt.a)({},e,{isLoading:t.payload});default:return e}},people:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return Object(Tt.a)({},e,{users:t.payload});case"PEOPLE_ERROR":case"CLEAR_PEOPLE_ERROR":return Object(Tt.a)({},e,{error:t.payload});default:return e}},job:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_JOBS":return Object(Tt.a)({},e,{jobs:t.payload});case"NEW_JOBS":return Object(Tt.a)({},e,{newJob:t.payload});case"JOB_ERROR":case"CLEAR_JOB_ERROR":return Object(Tt.a)({},e,{error:t.payload});case"JOB_START":case"JOB_COMPLETE":return Object(Tt.a)({},e,{isLoading:t.payload});case"EDIT_JOB":return Object(Tt.a)({},e,{editJob:t.payload});case"EDIT_JOB_START":return Object(Tt.a)({},e,{isLoading:t.payload});case"EDIT_JOB_ERROR":case"CLEAR_EDIT_JOB_ERROR":return Object(Tt.a)({},e,{error:t.payload});case"EDIT_JOB_COMPLETE":return Object(Tt.a)({},e,{isLoading:t.payload});case"DELETE_JOB":return Object(Tt.a)({},e,{deleteJob:t.payload});case"DELETE_JOB_START":return Object(Tt.a)({},e,{isLoading:t.payload});case"DELETE_JOB_ERROR":case"CLEAR_DELETE_JOB_ERROR":return Object(Tt.a)({},e,{error:t.payload});case"DELETE_JOB_COMPLETE":return Object(Tt.a)({},e,{isLoading:t.payload});default:return e}}}),Ct=[vt.a],wt=Object(gt.e)(kt,{},Object(gt.d)(gt.a.apply(void 0,Ct),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(286);r.a.render(i.a.createElement(c.a,{store:wt},i.a.createElement(s.a,null,i.a.createElement("div",null,i.a.createElement(l.a,null,i.a.createElement(u.a,{exact:!0,path:"/Login",component:k}),i.a.createElement(u.a,{path:"/Feed",component:le}),i.a.createElement(u.a,{path:"/People",component:ye}),i.a.createElement(u.a,{path:"/Signup",component:A}),i.a.createElement(u.a,{path:"/Job",component:jt}),i.a.createElement(u.a,{path:"/Profile",component:ot}),i.a.createElement(p.a,{to:"/Feed"}))))),document.getElementById("root"))},82:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.8a1c50dc.chunk.js.map